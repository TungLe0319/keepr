import{_ as B,b as j,C as p,P as u,D as C,y as E,z as F,e as l,A as a,E as H,V as L,m as D,c as s,a as t,t as g,B as h,F as T,r as N,o as n,h as R,p as U,i as z,j as O}from"./index.40b7dfbd.js";const M={setup(){j(()=>{c(),r()});async function r(){try{await p.getKeepsByVaultId(_.params.id)}catch(e){u.toast('<img src="https://media.tenor.com/j1U9chTe2_0AAAAi/nope-finger-wag.gif" height="80" width="80" > this is Private'),C.error(e),o.go(-1)}}async function c(){try{await p.getVaultById(_.params.id)}catch(e){u.toast('<img src="https://media.tenor.com/j1U9chTe2_0AAAAi/nope-finger-wag.gif" height="80" width="80" > this is Private'),C.error(e)}}const _=E(),o=F();return{route:_,router:o,Vaulted:l(()=>a.vKeepIds),keeps:l(()=>a.vaultedKeeps),account:l(()=>a.account),vault:l(()=>{var e;return(e=a)==null?void 0:e.activeVault}),private:l(()=>{var e;return((e=a.activeVault)==null?void 0:e.isPrivate)==!0}),owner:l(()=>{var e,d,i;return((d=(e=a.activeVault)==null?void 0:e.creator)==null?void 0:d.id)==((i=a.user)==null?void 0:i.id)}),async deleteVault(){var e,d;try{if(await u.confirm(`Are you sure you want to delete  ${(e=a.activeVault)==null?void 0:e.name}  ?`,"theres no undoing this")){let i=(d=a.activeVault)==null?void 0:d.id;await p.deleteVault(i),o.push({name:"Account"})}}catch(i){u.error(i,"[deleteVault]")}},async deleteVaultKeep(){try{let e=a.activeKeep.id;await H.deleteVaultKeep(e)}catch(e){u.error(e,"[]")}},toggleEditForm(){a.vaultEditForm=!0}}},components:{VaultCard:L,PopperTip:D}},v=r=>(U("data-v-a737253a"),r=r(),z(),r),q={key:0,class:"container animate__animated animate__fadeIn"},G={class:"row justify-content-center mt-3"},J={class:"col-md-10 text-center mt-2"},Q={class:"card border-0"},W=["src"],X={key:1,src:"",alt:"",class:"img-fluid coverImg bShadow rounded skeleton-loader"},Y={class:"card-img-overlay d-flex justify-content-center align-items-end"},Z={class:"text-center markoOne"},$={class:"lgText text-constantLight no-select",title:"Vault name"},tt={class:"byText text-constantLight no-select"},et={key:0},ot=v(()=>t("i",{class:"mdi mdi-shield-lock-outline fs-1 text-constantLight ms-4 lgText",title:"Currently in one of your private vaults"},null,-1)),at=[ot],st={class:"col-md-12 d-flex flex-column justify-content-center align-items-center"},nt={class:"col-md-10 justify-content-end d-flex mt-3 mb-1 px-3"},it={class:"d-flex align-items-center me-2"},rt=["src","title"],ct={class:"btn-group dropstart"},dt={key:0,class:"mdi mdi-dots-horizontal ms-3 fs-1 action text-dark rounded px-1 dotHover","data-bs-toggle":"dropdown","aria-expanded":"false",title:"Vault options"},lt={class:"dropdown-menu rounded bg-info bShadow py-0 border-0"},ut={class:"d-flex"},_t={class:"monoton text-dark text-decoration-underline"},mt=v(()=>t("span",{class:"ms-2"},[t("h1",{class:"monoton text-dark"},"keeps")],-1)),ht={class:"bricks mt-3"},vt={key:1,class:"text-center mt-5"},pt=v(()=>t("img",{src:"https://cdn-icons-png.flaticon.com/512/2913/2913133.png",alt:"",class:"img-fluid rounded-circle dotHover btn border-0"},null,-1)),gt=v(()=>t("h1",{class:"text-center mt-5 markoOne"},"THIS IS A PRIVATE VAULT",-1)),yt=[pt,gt];function ft(r,c,_,o,e,d){var y,f,x,V,k,w,b,I,A,S,K,P;const i=O("KeepCard");return n(),s(T,null,[o.vault?(n(),s("div",q,[t("div",G,[t("div",J,[t("div",Q,[(y=o.vault)!=null&&y.img?(n(),s("img",{key:0,src:(f=o.vault)==null?void 0:f.img,alt:"",class:"img-fluid coverImg bShadow rounded"},null,8,W)):(n(),s("img",X)),t("div",Y,[t("div",Z,[t("h1",$,g((x=o.vault)==null?void 0:x.name),1),t("h3",tt," by "+g((w=(k=(V=o.vault)==null?void 0:V.creator)==null?void 0:k.name)==null?void 0:w.split("@")[0]),1)]),(b=o.vault)!=null&&b.isPrivate?(n(),s("span",et,at)):h("",!0)])])]),t("div",st,[t("div",nt,[t("div",it,[t("img",{src:(A=(I=o.vault)==null?void 0:I.creator)==null?void 0:A.picture,alt:"",width:"60",height:"60",class:"rounded-circle dotHover no-select",title:(K=(S=o.vault)==null?void 0:S.creator)==null?void 0:K.name},null,8,rt)]),t("div",ct,[o.owner?(n(),s("i",dt)):h("",!0),t("ul",lt,[t("li",{class:"dotHover rounded p-2 text-center","data-bs-toggle":"modal","data-bs-target":"#vaultForm",onClick:c[0]||(c[0]=m=>o.toggleEditForm())}," Edit Vault "),t("li",{class:"dotHover rounded p-2 text-center",onClick:c[1]||(c[1]=m=>o.deleteVault())}," Delete Vault ")])])]),t("div",ut,[t("span",_t,[t("h1",null,g((P=o.keeps)==null?void 0:P.length),1)]),mt])])]),t("div",ht,[(n(!0),s(T,null,N(o.keeps,m=>(n(),s("div",{class:"my-3",key:m.id},[R(i,{keep:m},null,8,["keep"])]))),128))])])):h("",!0),!o.owner&&o.private?(n(),s("div",vt,yt)):h("",!0)],64)}const Vt=B(M,[["render",ft],["__scopeId","data-v-a737253a"]]);export{Vt as default};
